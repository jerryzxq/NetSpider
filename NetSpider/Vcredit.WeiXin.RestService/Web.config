<?xml version="1.0"?>
<!--
  有关如何配置 ASP.NET 应用程序的详细信息，请访问
  http://go.microsoft.com/fwlink/?LinkId=169433
  -->
<configuration>
  <configSections>
    <sectionGroup name="spring">
      <section name="context" type="Spring.Context.Support.ContextHandler, Spring.Core" />
      <section name="parsers" type="Spring.Context.Support.NamespaceParsersSectionHandler, Spring.Core" />
      <section name="objects" type="Spring.Context.Support.DefaultSectionHandler, Spring.Core" />
    </sectionGroup>
    <sectionGroup name="common">
      <section name="logging" type="Common.Logging.ConfigurationSectionHandler, Common.Logging" />
    </sectionGroup>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler,log4net-net-1.0"/>
    <section name="quartz" type="System.Configuration.NameValueSectionHandler, System, Version=1.0.5000.0,Culture=neutral, PublicKeyToken=b77a5c561934e089"/>
    <sectionGroup name="applicationSettings" type="System.Configuration.ApplicationSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" >
      <section name="Vcredit.WeiXin.RestService.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    </sectionGroup>
  </configSections>
  <spring xmlns="http://www.springframework.net">
    <parsers>
      <parser type="Spring.Data.Config.DatabaseNamespaceParser, Spring.Data" />
      <parser type="Spring.Transaction.Config.TxNamespaceParser, Spring.Data" />
    </parsers>
    <context>
      <resource uri="config://spring/objects" />
      <resource uri="assembly://Vcredit.NetSpider.Service/Vcredit.NetSpider.Service.Config/DaoBase.xml" />
      <resource uri="~/database/netspider.xml" />
    </context>
    <objects xmlns="http://www.springframework.net" />
  </spring>
  <common>
    <logging>
      <factoryAdapter type="Common.Logging.Simple.NoOpLoggerFactoryAdapter, Common.Logging"></factoryAdapter>
    </logging>
  </common>
  <log4net>
    <!-- 日志文件部分log输出格式的设定 -->
    <appender name="RollingLogFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="Logs\Log_"/>
      <appendToFile value="true"/>
      <rollingStyle value="Date"/>
      <datePattern value="yyyyMMdd'.txt'"/>
      <staticLogFileName value="false"/>
      <layout type="log4net.Layout.PatternLayout">
        <header value="------------------------------------------------------------&#xA;"/>
        <ConversionPattern value="%date [%thread] %-5level %logger [%ndc] - %message%newline"/>
      </layout>
    </appender>
    <!-- Setup the root category, add the appenders and set the default level -->
    <!--<root>
      <level value="ALL"/>
      <appender-ref ref="ConsoleAppender"/>
      <appender-ref ref="RollingLogFileAppender"/>
    </root>-->
    <logger name="logerror">
      <level value="DEBUG" />
      <appender-ref ref="RollingLogFileAppender" />
    </logger>
    <logger name="loginfo">
      <level value="Info" />
      <appender-ref ref="RollingLogFileAppender" />
    </logger>
  </log4net>
  <appSettings>
    <add key="localUrl" value="http://10.1.12.84:8881"/>
    <!--<add key="spiderServiceUrl" value="http://10.1.12.84:8000"/>-->
    <add key="spiderServiceUrl" value="http://10.138.60.43:7777"/>
    <add key="cacheMinutes" value="30"/>
    <add key="LogicMappingFilePath" value="D:\www\weixinService\files\ConfigFile\" />
    <add key="kkdWeChatService" value="http://www.kkcredit.cn/ccl/data/ws/rest/"/>
    <add key="vbsService" value="http://10.1.12.52:8090/KaKaDaiWebService/"/>
    <!--FTP服务器地址-->
    <add key="FtpAddress" value="10.1.6.52:225/KaKaDai/" />
    <!--FTP服务器用户名-->
    <add key="FtpUserName" value="KaKaDai" />
    <!--FTP服务器密码-->
    <add key="FtpPassword" value="123!@#qwe" />
    <add key="JxlReportPath" value="D:\www\weixinService\files\jxl\" />
    <add key="bankfilepath" value="D:\www\weixinService\files\bankfile\全国所有银行卡bin表.xls"/>
    <add key="xxqdWeChatService" value="http://10.1.12.14:18080/star/data/ws/rest/bsmutual/GetMobileInfo"/>
  </appSettings>
  <quartz>
    <add key="quartz.scheduler.instanceName" value="ExampleDefaultQuartzScheduler"/>
    <add key="quartz.threadPool.type" value="Quartz.Simpl.SimpleThreadPool, Quartz"/>
    <add key="quartz.threadPool.threadCount" value="10"/>
    <add key="quartz.threadPool.threadPriority" value="2"/>
    <add key="quartz.jobStore.misfireThreshold" value="60000"/>
    <add key="quartz.jobStore.type" value="Quartz.Simpl.RAMJobStore, Quartz"/>
    <!--******************************Plugin配置********************************************* -->
    <add key="quartz.plugin.xml.type" value="Quartz.Plugin.Xml.XMLSchedulingDataProcessorPlugin, Quartz" />
    <add key="quartz.plugin.xml.fileNames" value="~/quartz_jobs.xml"/>

  </quartz>
  <connectionStrings>
    <!--<add name="MongoDB" connectionString="mongodb://sa:sa@10.1.6.155:27017" /> -->
    <add name="CrawlerMongoDB" connectionString="mongodb://10.1.8.113:27017"/>
    <add name="AnalysisMongoDB" connectionString="mongodb://10.1.8.113:27017"/>
    <add name="MongoDB" connectionString="mongodb://10.1.8.113:27017"/>
    <add name="LoanDB" connectionString="Data Source=10.1.12.149;Initial Catalog=Loan;User ID=vbsowner;Password=Ow123neR!@#;pooling=true;TimeOut=600;" providerName="System.Data.SqlClient" />
    <add name="SysDB" connectionString="Data Source=10.1.12.149;Initial Catalog=Sys;User ID=vbsowner;Password=Ow123neR!@#;pooling=true;TimeOut=600;" providerName="System.Data.SqlClient" />
    <add name="PostLoanDB" connectionString="Data Source=10.1.12.149;Initial Catalog=PostLoan;User ID=vbsowner;Password=Ow123neR!@#;pooling=true;TimeOut=600;" providerName="System.Data.SqlClient" />
  </connectionStrings>
  <system.web>
    <httpRuntime maxRequestLength="2147483644"/>
    <compilation targetFramework="4.0"/>
    <!--
            If you are deploying to a cloud environment that has multiple web server instances,
            you should change session state mode from "InProc" to "Custom". In addition,
            change the connection string named "DefaultConnection" to connect to an instance
            of SQL Server (including SQL Azure and SQL  Compact) instead of to SQL Server Express.
      -->
    <sessionState mode="InProc" customProvider="DefaultSessionProvider">
      <providers>
        <add name="DefaultSessionProvider" type="System.Web.Providers.DefaultSessionStateProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection"/>
      </providers>
    </sessionState>
    <pages controlRenderingCompatibilityVersion="4.0"/>
  </system.web>
  <system.webServer>
    <!--兼容IIS6与IIS7模式-->
    <validation validateIntegratedModeConfiguration="false"/>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>
  <system.serviceModel>
    <bindings />
    <client />
    <serviceHostingEnvironment aspNetCompatibilityEnabled="true"/>
    <standardEndpoints>
      <webHttpEndpoint>
        <standardEndpoint name="" maxBufferSize="2147483647" maxReceivedMessageSize="2147483647" helpEnabled="true"/>
        <!-- 
            Configure the WCF REST service base address via the global.asax.cs file and the default endpoint 
            via the attributes on the <standardEndpoint> element below
        -->
        <!-- <standardEndpoint name="" maxReceivedMessageSize="20000000" helpEnabled="true" automaticFormatSelectionEnabled="true"/>-->
      </webHttpEndpoint>
    </standardEndpoints>
  </system.serviceModel>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="DotNetOpenAuth.Core" publicKeyToken="2780ccd10d57b246"/>
        <bindingRedirect oldVersion="1.0.0.0-4.0.0.0" newVersion="4.1.0.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="DotNetOpenAuth.AspNet" publicKeyToken="2780ccd10d57b246"/>
        <bindingRedirect oldVersion="1.0.0.0-4.0.0.0" newVersion="4.1.0.0"/>
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <applicationSettings>
    <Vcredit.WeiXin.RestService.Properties.Settings>
      <setting name="Vcredit_WeiXin_RestService_RCWebService_RCWebService"
        serializeAs="String">
        <value>http://10.1.12.10:8812/GateWay/RCService.asmx</value>
      </setting>
      <setting name="Vcredit_WeiXin_RestService_AuthenticationService_AuthenticationService"
        serializeAs="String">
        <value>http://10.138.60.18:6868/AuthenticationService.asmx</value>
      </setting>
      <setting name="Vcredit_WeiXin_RestService_OCRService_OCRService"
          serializeAs="String">
        <value>http://10.1.8.11/OCRService.asmx</value>
      </setting>
      <setting name="Vcredit_WeiXin_RestService_CheckCardService_CheckCardService"
          serializeAs="String">
        <value>http://10.1.6.155:8808/CheckCardService.asmx</value>
      </setting>
    </Vcredit.WeiXin.RestService.Properties.Settings>
  </applicationSettings>
</configuration>